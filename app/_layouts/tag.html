---
layout: base
---

{% comment %} Posts pour ce tag : site.tags utilise le titre (ex. "Data Engineering") {% endcomment %}
{% assign tag_posts = site.tags[page.title] %}

{% comment %} Slugs des tags qui ont une page (√©viter liens 404 vers /tags/machine-learning etc.) {% endcomment %}
{% capture valid_tag_slugs %}|
{% for p in site.pages %}{% if p.layout == "tag" and p.tag %}{{ p.tag }}|{% endif %}{% endfor %}
{% endcapture %}

<!-- Tag Header Section -->
<section class="tag-header-section">
  <div class="container-databird">
    <nav aria-label="Breadcrumb" class="breadcrumb-databird">
      <div class="breadcrumb-databird-content">
        <a href="{{ '/' | relative_url }}" class="breadcrumb-item">Accueil</a>
        <span class="breadcrumb-separator">/</span>
        <a href="{{ '/tags/' | relative_url }}" class="breadcrumb-item">Tags</a>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">{{ page.title }}</span>
      </div>
    </nav>

    <div class="tag-header-content">
      <div class="tag-icon-wrapper">
        {% if page.icon %}
          <div class="tag-icon-large">{{ page.icon }}</div>
        {% else %}
          <div class="tag-icon-large">üìä</div>
        {% endif %}
      </div>

      <h1 class="tag-title">{{ page.title }}</h1>

      {% if page.description %}
        <p class="tag-description">{{ page.description }}</p>
      {% endif %}

      <div class="tag-stats">
        <div class="tag-stat-item">
          <span class="tag-stat-value">{{ tag_posts.size }}</span>
          <span class="tag-stat-label">Articles</span>
        </div>
        {% if page.last-updated %}
          <div class="tag-stat-item">
            <span class="tag-stat-value">{{ page.last-updated }}</span>
            <span class="tag-stat-label">Derni√®re mise √† jour</span>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</section>

<!-- Tag Content -->
{% if page.content %}
<section class="tag-intro-section">
  <div class="container-databird">
    <div class="tag-intro-content">
      {{ content }}
    </div>
  </div>
</section>
{% endif %}

<!-- Featured Posts -->
{% assign featured_posts = tag_posts | where: "featured", true | limit: 3 %}
{% if featured_posts.size > 0 %}
<section class="tag-featured-section">
  <div class="container-databird">
    <h2 class="section-title">Articles √† la Une</h2>
    <div class="featured-posts-grid">
      {% for post in featured_posts %}
      <article class="featured-post-card">
        {% if post.cover-img or post.thumbnail-img %}
          {% assign image = post.cover-img | default: post.thumbnail-img %}
          {% if image.first %}
            {% assign image = image[0].first.first %}
          {% endif %}
          <img src="{{ image | relative_url }}" alt="{{ post.title }}" class="featured-post-image" loading="lazy">
        {% else %}
          <div class="featured-post-image" style="background: linear-gradient(135deg, #E31E24 0%, #1E40AF 100%);"></div>
        {% endif %}

        <div class="featured-post-content">
          <h3 class="featured-post-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h3>

          {% if post.excerpt %}
            <p class="featured-post-excerpt">{{ post.excerpt | strip_html | truncatewords: 20 }}</p>
          {% endif %}

          <div class="featured-post-meta">
            <span>
              <i class="far fa-calendar" aria-hidden="true"></i>
              {{ post.date | date: "%d/%m/%Y" }}
            </span>
            {% if post.author %}
              <span>
                <i class="far fa-user" aria-hidden="true"></i>
                {{ post.author }}
              </span>
            {% endif %}
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<!-- All Posts Grid -->
<section class="tag-posts-section">
  <div class="container-databird">
    <div class="tag-posts-header">
      <h2 class="section-title">Tous les Articles</h2>
      <p class="section-subtitle">
        {% if tag_posts.size == 0 %}0 article{% elsif tag_posts.size == 1 %}1 article{% else %}{{ tag_posts.size }} articles{% endif %} dans cette cat√©gorie
      </p>
    </div>

    {% if tag_posts.size > 0 %}
      <div class="blog-grid-databird">
        {% for post in tag_posts %}
        <article class="blog-card-databird">
          {% if post.cover-img or post.thumbnail-img %}
            {% assign image = post.cover-img | default: post.thumbnail-img %}
            {% if image.first %}
              {% assign image = image[0].first.first %}
            {% endif %}
            <img src="{{ image | relative_url }}" alt="{{ post.title }}" class="blog-card-image" loading="lazy">
          {% else %}
            <div class="blog-card-image" style="background: linear-gradient(135deg, #E31E24 0%, #1E40AF 100%);"></div>
          {% endif %}

          <div class="blog-card-content">
            {% if post.tags %}
              <span class="blog-card-tag">{{ post.tags[0] }}</span>
            {% endif %}

            <h2 class="blog-card-title">
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h2>

            {% if post.excerpt %}
              <p class="blog-card-excerpt">{{ post.excerpt | strip_html | truncatewords: 25 }}</p>
            {% endif %}

            <div class="blog-card-meta">
              <span class="blog-card-date">
                <i class="far fa-calendar" aria-hidden="true"></i>
                {{ post.date | date: "%d/%m/%Y" }}
              </span>
              {% if post.author %}
                <span class="blog-card-author">
                  <i class="far fa-user" aria-hidden="true"></i>
                  {{ post.author }}
                </span>
              {% endif %}
            </div>
          </div>
        </article>
        {% endfor %}
      </div>
    {% else %}
      <div class="empty-state">
        <div class="empty-state-icon" aria-hidden="true">üì≠</div>
        <h3 class="empty-state-title">Aucun article dans cette cat√©gorie</h3>
        <p class="empty-state-description">
          Il n'y a pas encore d'articles pour <strong>{{ page.title }}</strong>. D√©couvrez nos autres sujets ou revenez bient√¥t !
        </p>
        <div class="empty-state-actions">
          <a href="{{ '/' | relative_url }}" class="btn btn-primary">
            <i class="fas fa-home" aria-hidden="true"></i> Retour √† l'accueil
          </a>
          <a href="{{ '/tags/' | relative_url }}" class="btn btn-secondary">
            <i class="fas fa-tags" aria-hidden="true"></i> Toutes les cat√©gories
          </a>
        </div>
        {% if site.tags.size > 0 %}
        <div class="empty-state-suggestions">
          <p class="empty-state-suggestions-title">Cat√©gories avec des articles</p>
          <div class="tags-cloud tags-cloud-inline">
            {% assign empty_shown = 0 %}
            {% for tag_entry in site.tags %}
              {% if empty_shown >= 8 %}{% break %}{% endif %}
              {% assign t = tag_entry | first %}
              {% assign t_slug = t | slugify %}
              {% assign slug_check = "|" | append: t_slug | append: "|" %}
              {% if valid_tag_slugs contains slug_check %}
                {% assign count = tag_entry | last | size %}
                <a href="{{ '/tags/' | relative_url }}{{ t_slug }}" class="tag-cloud-item">{{ t }} ({{ count }})</a>
                {% assign empty_shown = empty_shown | plus: 1 %}
              {% endif %}
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    {% endif %}
  </div>
</section>

<!-- Related Tags : liens uniquement vers les tags qui ont une page (√©viter 404) -->
{% if site.tags.size > 0 %}
<section class="related-tags-section">
  <div class="container-databird">
    <h2 class="section-title">D√©couvrir d'autres cat√©gories</h2>
    <div class="tags-cloud">
      {% assign shown = 0 %}
      {% for tag_entry in site.tags %}
        {% if shown >= 12 %}{% break %}{% endif %}
        {% assign t = tag_entry | first %}
        {% if t != page.title %}
          {% assign t_slug = t | slugify %}
          {% assign slug_check = "|" | append: t_slug | append: "|" %}
          {% if valid_tag_slugs contains slug_check %}
            {% assign count = tag_entry | last | size %}
            <a href="{{ '/tags/' | relative_url }}{{ t_slug }}" class="tag-cloud-item">{{ t }} ({{ count }})</a>
            {% assign shown = shown | plus: 1 %}
          {% endif %}
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}
