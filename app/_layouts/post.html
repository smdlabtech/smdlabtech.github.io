---
layout: base
---

<!-- Post Header -->
<section class="post-header-databird">
  <div class="post-header-content">
    <nav class="post-breadcrumb" aria-label="Breadcrumb">
      <a href="{{ '/' | relative_url }}">Blog</a>
      <span class="post-breadcrumb-separator">></span>
      {% if page.tags.size > 0 %}
        <a href="/tags/{{ page.tags[0] | slugify }}">{{ page.tags[0] }}</a>
        <span class="post-breadcrumb-separator">></span>
      {% endif %}
      <span>{{ page.title }}</span>
    </nav>
    
    {% if page.tags.size > 0 %}
      <div class="post-category-badge">
        <a href="/tags/{{ page.tags[0] | slugify }}">{{ page.tags[0] }}</a>
      </div>
    {% endif %}
    
    <h1 class="post-title-databird">{{ page.title }}</h1>
    
    {% if page.subtitle or page.excerpt %}
      <p class="post-subtitle-databird">{{ page.subtitle | default: page.excerpt | strip_html | truncatewords: 30 }}</p>
    {% endif %}
    
    <div class="post-meta-databird">
      {% if page.author %}
        <div class="post-meta-item">
          <span class="post-author-name">{{ page.author }}</span>
        </div>
      {% endif %}
      <div class="post-meta-item">
        <span class="post-meta-label">Mis à jour le</span>
        <time datetime="{{ page.date | date_to_xmlschema }}">{{ page.date | date: "%-d/%-m/%Y" }}</time>
      </div>
    </div>
  </div>
</section>

<!-- Post Cover Image -->
{% if page.cover-img %}
  <div class="container-databird" style="padding-top: 2rem;">
    <img src="{{ page.cover-img | relative_url }}" alt="{{ page.title }}" class="post-cover-image" loading="eager">
  </div>
{% endif %}

<!-- Post Content -->
<div class="post-content-wrapper-databird">
  <div class="post-content-main">
    <article class="post-content-databird">
      {{ content }}
    </article>
    
    <!-- Post Footer Actions -->
    <div class="post-footer-actions">
      {% if page.tags.size > 0 %}
        <div class="post-tags-section">
          <h3 class="post-section-title">Catégories</h3>
          <div class="post-tags-databird">
            {% for tag in page.tags %}
              <a href="/tags/{{ tag | slugify }}" class="post-tag-item">
                {{ tag }}
              </a>
            {% endfor %}
          </div>
        </div>
      {% endif %}
      
      {% if page.social-share %}
        <div class="post-share-section">
          <h3 class="post-section-title">Partager cet article</h3>
          {% include social-share-modern.html %}
        </div>
      {% endif %}
    </div>
  </div>
  
  <!-- Sidebar with TOC -->
  <aside class="post-sidebar-databird" id="post-sidebar">
    <div class="post-toc-wrapper">
      <div class="post-toc-header">
        <h3 class="post-toc-title">Sommaire</h3>
        <button class="post-toc-back-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" aria-label="Revenir en haut">
          <i class="fas fa-arrow-up"></i>
          <span>Revenir en haut</span>
        </button>
      </div>
      <div class="post-toc" id="post-toc-content">
        <!-- TOC will be generated by JavaScript -->
      </div>
    </div>
  </aside>
</div>

<!-- Related Articles Section -->
{% if page.tags.size > 0 %}
  {% assign related_posts = site.posts | where_exp: "post", "post.tags contains page.tags[0]" | where_exp: "post", "post.url != page.url" | limit: 3 %}
  {% if related_posts.size > 0 %}
    <section class="related-articles-section">
      <div class="container-databird">
        <h2 class="section-title">Les derniers articles sur ce sujet</h2>
        <div class="related-articles-grid">
          {% for related_post in related_posts %}
            <article class="related-article-card">
              {% if related_post.cover-img or related_post.thumbnail-img %}
                {% assign image = related_post.cover-img | default: related_post.thumbnail-img %}
                {% if image.first %}
                  {% assign image = image[0].first.first %}
                {% endif %}
                <img src="{{ image | relative_url }}" alt="{{ related_post.title }}" class="related-article-image" loading="lazy">
              {% else %}
                <div class="related-article-image" style="background: linear-gradient(135deg, #E31E24 0%, #1E40AF 100%);"></div>
              {% endif %}
              
              <div class="related-article-content">
                {% if related_post.tags %}
                  <span class="related-article-tag">{{ related_post.tags[0] }}</span>
                {% endif %}
                
                <h3 class="related-article-title">
                  <a href="{{ related_post.url | relative_url }}">{{ related_post.title }}</a>
                </h3>
                
                <div class="related-article-meta">
                  <span>
                    <time datetime="{{ related_post.date | date_to_xmlschema }}">{{ related_post.date | date: "%-d/%-m/%Y" }}</time>
                  </span>
                  {% if related_post.author %}
                    <span>{{ related_post.author }}</span>
                  {% endif %}
                </div>
              </div>
            </article>
          {% endfor %}
        </div>
      </div>
    </section>
  {% endif %}
{% endif %}

<!-- Post Footer -->
<footer class="post-footer-databird">
  {% if page.author %}
    <div class="post-author-card">
      {% if site.avatar %}
        <img src="{{ site.avatar | relative_url }}" alt="{{ page.author }}" class="post-author-avatar">
      {% else %}
        <div class="post-author-avatar" style="background: linear-gradient(135deg, var(--db-primary), var(--db-secondary)); display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; font-weight: 700;">
          {{ page.author | slice: 0 }}
        </div>
      {% endif %}
      <div class="post-author-info">
        <h3>{{ page.author }}</h3>
        {% if site.description %}
          <p class="post-author-bio">{{ site.description }}</p>
        {% endif %}
        <div class="post-author-links">
          {% if site.social-network-links.github %}
            <a href="https://github.com/{{ site.social-network-links.github }}" class="post-author-link" aria-label="GitHub">
              <i class="fab fa-github"></i>
            </a>
          {% endif %}
          {% if site.social-network-links.linkedin %}
            <a href="https://linkedin.com/in/{{ site.social-network-links.linkedin }}" class="post-author-link" aria-label="LinkedIn">
              <i class="fab fa-linkedin"></i>
            </a>
          {% endif %}
          {% if site.social-network-links.twitter %}
            <a href="https://twitter.com/{{ site.social-network-links.twitter }}" class="post-author-link" aria-label="Twitter">
              <i class="fab fa-twitter"></i>
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}
  
  <!-- Post Navigation -->
  {% if page.previous.url or page.next.url %}
    <nav class="post-navigation">
      {% if page.previous.url %}
        <a href="{{ page.previous.url | relative_url }}" class="post-nav-item previous">
          <span class="post-nav-label">Article précédent</span>
          <span class="post-nav-title">{{ page.previous.title }}</span>
        </a>
      {% else %}
        <div></div>
      {% endif %}
      
      {% if page.next.url %}
        <a href="{{ page.next.url | relative_url }}" class="post-nav-item next">
          <span class="post-nav-label">Article suivant</span>
          <span class="post-nav-title">{{ page.next.title }}</span>
        </a>
      {% endif %}
    </nav>
  {% endif %}
  
  {% include comments.html %}
</footer>
